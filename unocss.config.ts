import { presetNimiq } from 'nimiq-css'
import { defineConfig, presetAttributify, presetIcons, presetUno } from 'unocss'
import { presetRemToPx } from '@unocss/preset-rem-to-px'
import transformerDirectives from '@unocss/transformer-directives'

export default defineConfig({
  presets: [
    presetUno({ attributifyPseudo: true }),
    presetNimiq({
      utilities: true,
      attributifyUtilities: true,
      icons: false,
    }),
    presetRemToPx({ baseFontSize: 4 }),
    presetAttributify(),
    presetIcons({
      collections: {
        nimiq: async () => {
          return await fetch(
            'https://raw.githubusercontent.com/onmax/nimiq-ui/main/packages/nimiq-icons/dist/icons.json',
          ).then(res => res.json() as any)
        },
        custom: {
          curly: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 96 75"><path fill="currentColor" d="m8.1.977.085.085v.397c0 .104-.066.194-.198.27a6.179 6.179 0 0 0-1.802 1.929 7.388 7.388 0 0 0-.95 2.624c0 .01-.005.029-.014.057-.038.265-.062 1.078-.071 2.44v1.546c0 2.29-.005 3.443-.015 3.462-.009.038-.052.061-.127.07-.076.01-.312.015-.71.015-.491 0-.747-.005-.766-.014a.085.085 0 0 1-.056-.057c-.02-.094-.029-1.206-.029-3.334V9.304c0-.473-.004-.804-.014-.993 0-.936.043-1.66.128-2.17.085-.511.284-1.083.596-1.717.718-1.419 1.806-2.535 3.262-3.348l.185-.1H8.1Z"/><path fill="currentColor" d="M3.447 19.405v-4.487c0-.98.024-1.535.071-1.664.02-.025.331-.038.936-.038.388 0 .592.013.61.038.038.026.062.168.071.426.01.387.015 2.295.015 5.725v5.338c0 .516-.024.786-.071.812h-.015c-.018.026-.274.039-.766.039-.491 0-.747-.013-.766-.039-.037-.026-.061-.168-.07-.425-.01-.387-.015-2.296-.015-5.725Z"/><path fill="currentColor" d="M3.518 24.951c.02-.01.331-.014.937-.014.387 0 .59.005.61.014.028.01.047.029.056.057.02.095.029 1.187.029 3.277 0 2.203-.005 3.348-.014 3.433a7.314 7.314 0 0 1-1.107 3.447 7.932 7.932 0 0 1-2.582 2.554l-.198.127.198.128a8.205 8.205 0 0 1 2.525 2.483c.681 1.03 1.07 2.203 1.164 3.518.01.085.014 1.23.014 3.433v2.908c0 .274-.024.416-.071.426h-.014c-.02.01-.275.014-.766.014-.492 0-.748-.005-.766-.014a.085.085 0 0 1-.057-.057c-.02-.095-.029-1.182-.029-3.263v-2.028c0-1.003-.033-1.788-.099-2.355a6.532 6.532 0 0 0-.496-1.788 6.682 6.682 0 0 0-.582-1.163 7.1 7.1 0 0 0-.653-.894 5.6 5.6 0 0 0-.581-.582c-.18-.15-.326-.274-.44-.368l-.17-.142c-.01-.01-.014-.095-.014-.256 0-.16.004-.245.014-.255 0-.01.094-.085.284-.227.189-.142.42-.364.695-.667.274-.302.558-.662.85-1.078.294-.416.55-.97.767-1.66.217-.69.355-1.423.411-2.199.01-.113.014-1.276.014-3.49 0-2.146.005-3.234.015-3.262l.056-.057Z"/><path fill="currentColor" d="M3.447 56.288v-4.487c0-.98.024-1.534.071-1.663.02-.026.331-.039.936-.039.388 0 .592.013.61.04.038.025.062.167.071.425.01.386.015 2.295.015 5.724v5.339c0 .515-.024.786-.071.812h-.015c-.018.026-.274.038-.766.038-.491 0-.747-.012-.766-.038-.037-.026-.061-.168-.07-.426-.01-.386-.015-2.295-.015-5.724Z"/><path fill="currentColor" d="m8.185 74.632-.085.085h-.496l-.156-.085c-1.173-.643-2.11-1.49-2.81-2.54-.699-1.05-1.091-2.175-1.177-3.376-.009-.094-.014-1.012-.014-2.752 0-2.695.005-4.053.014-4.072l.057-.056c.029-.01.289-.014.78-.014.398 0 .634.004.71.014.075.01.118.033.127.07.01.02.015 1.169.015 3.448v1.801c0 .984.019 1.68.056 2.086.038.407.142.86.312 1.362.152.454.336.875.554 1.262.217.388.444.714.68.98.237.264.445.477.625.638.18.16.36.307.539.44.18.132.265.193.255.184-.01-.01-.004.085.014.284v.24ZM87.785 1.317c0-.16.01-.255.028-.283.019-.029.1-.048.241-.057h.312l.156.085c1.164.634 2.1 1.475 2.81 2.525.709 1.05 1.101 2.18 1.177 3.39.01.086.014 1.249.014 3.49v2.965c0 .284-.024.426-.071.426h-.014c-.02.01-.275.014-.766.014-.397 0-.634-.005-.71-.014-.075-.01-.118-.033-.127-.071-.01-.019-.014-1.173-.014-3.462V8.538c0-.974-.02-1.67-.057-2.085a5.81 5.81 0 0 0-.312-1.362 7.277 7.277 0 0 0-.554-1.263 5.527 5.527 0 0 0-.68-.979 8.202 8.202 0 0 0-.625-.638 7.34 7.34 0 0 0-.539-.44 5.381 5.381 0 0 0-.255-.184c.01.01.005-.08-.014-.27Z"/><path fill="currentColor" d="M90.82 19.405v-4.487c0-.98.024-1.535.071-1.664.02-.025.331-.038.936-.038.388 0 .592.013.61.038.038.026.062.168.072.426.009.387.014 2.295.014 5.725v5.338c0 .516-.024.786-.071.812h-.014c-.02.026-.275.039-.767.039-.491 0-.747-.013-.766-.039-.037-.026-.061-.168-.07-.425-.01-.387-.015-2.296-.015-5.725Z"/><path fill="currentColor" d="M90.891 24.951c.02-.01.331-.014.936-.014.388 0 .592.005.61.014.029.01.048.029.057.057.02.095.029 1.182.029 3.263v2.028c0 1.003.033 1.788.099 2.355.066.568.232 1.163.496 1.788.161.416.355.804.582 1.163.227.36.445.657.653.894.208.236.402.43.581.581a119.156 119.156 0 0 0 .61.511c.01.01.014.095.014.255 0 .161-.004.246-.014.256 0 .01-.094.085-.283.227-.19.142-.421.364-.695.666-.275.303-.559.663-.852 1.079-.293.416-.548.969-.766 1.66a9.638 9.638 0 0 0-.411 2.198c-.01.114-.014 1.277-.014 3.49v2.894c0 .274-.024.416-.071.426h-.014c-.02.01-.275.014-.767.014-.491 0-.747-.005-.766-.014a.085.085 0 0 1-.056-.057c-.02-.095-.029-1.187-.029-3.277 0-2.204.005-3.348.015-3.433a7.315 7.315 0 0 1 1.106-3.447 7.932 7.932 0 0 1 2.582-2.554l.199-.128-.2-.127a8.204 8.204 0 0 1-2.524-2.483c-.681-1.03-1.069-2.203-1.163-3.518-.01-.095-.015-.998-.015-2.71 0-2.648.005-3.981.015-4l.056-.057Z"/><path fill="currentColor" d="M90.82 56.288v-4.487c0-.98.024-1.534.071-1.663.02-.026.331-.039.936-.039.388 0 .592.013.61.04.038.025.062.167.072.425.009.386.014 2.295.014 5.724v5.339c0 .515-.024.786-.071.812h-.014c-.02.026-.275.038-.767.038-.491 0-.747-.012-.766-.038-.037-.026-.061-.168-.07-.426-.01-.386-.015-2.295-.015-5.724Z"/><path fill="currentColor" d="M90.82 65.354v-2.582c0-.577.024-.889.071-.936.02-.01.331-.014.937-.014.388 0 .59.004.61.014.028.01.047.028.056.056.02.095.029 1.206.029 3.334v1.15c0 .472.005.803.014.992 0 .993-.061 1.797-.184 2.412s-.393 1.277-.809 1.986a7.796 7.796 0 0 1-3.022 2.866l-.156.085h-.227c-.18 0-.283-.014-.312-.043-.028-.028-.042-.132-.042-.312 0-.151.004-.241.014-.27.01-.028.07-.07.184-.127A6.064 6.064 0 0 0 89.8 72.02a7.31 7.31 0 0 0 .936-2.61c0-.01.005-.023.015-.042.037-.275.061-1.083.07-2.426v-1.589Z"/></svg>',
        },
      },
    }),
  ],
  transformers: [
    transformerDirectives(),
  ],
})
